{% extends "template.html" %}
{% load staticfiles %}

{% block styles %}
	<script type="text/javascript" src="{% static 'jquery.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'flot/jquery.flot.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'flot/jquery.flot.time.js' %}"></script>
	<script type="text/javascript" src="{% static 'flot/jquery.flot.stack.js' %}"></script>
{% endblock %}

{% block content %}

	{% regroup graphs by graph_category as grouped_graphs %}
	{% for group in grouped_graphs %}
		<h2 id="{{group.grouper|default:"other"}}">{{group.grouper|default:"other"}}</h2>

		{% for graph in group.list %}
			<p class="text-muted">{{graph}}</p>

			<div class="row">
				<div class="col-md-5">
					<div id="graph-{{graph.name}}-daily" class="djunin-graph" style="height: 240px" data-url="{% url 'graph_data' graph.node.group graph.node.name graph.name 'day' %}">
					</div>
				</div>
				<div class="col-md-5 col-xs-hidden">
					<div id="graph-{{graph.name}}-weekly" class="djunin-graph" style="height: 240px">
					</div>
				</div>
			</div>
		{% endfor %}
	{% endfor %}

	<script type="text/javascript" src="{% static 'site.js' %}"></script>
{% endblock %}
